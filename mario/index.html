<!DOCTYPE html>
<html>
	<head>
	    <title></title>
	    <style type="text/css">
		    div {
		        width: 100px;
		        height: 100px;
		        border: 1px solid black;
		        position: absolute;
		    }
		    .hero{ width:50px; background: blue; }
		    .pared{ top: 30px; left:400px; background: red; }
		    .villano{ background: black; }
	    </style>
	    <script type="text/javascript" src="mario.js"></script>
	</head>
	<body>
	    <div class="hero"></div>
	    <div class="pared"></div>

	    <script type="text/javascript">
	    	$(document).keydown(function(event) {
	    		$hero = $("div.hero");
	    		$pared=$("div.pared");
	    		cant = 10;
	    		switch(event.which){
	    			case 37: //izq
	    				console.log("mover izq");
	    				$hero.css("left", $hero.offset().left - cant);
	    			break;
	    			case 38: //arriba
	    				console.log("mover arriba");
	    				$hero.css("top", $hero.offset().top - cant);
	    			break;
	    			case 39: //derecha
	    				console.log("mover derecha");
	    				if(!colisionDER($("div.pared"))){
							$hero.css("left", $hero.offset().left + cant);
	    				}
	    				
	    			break;
	    			case 40: //abajo
	    				console.log("mover abajo");
	    				$hero.css("top", $hero.offset().top + cant);
	    			break;
	    			default: event.preventDefault();
	    		}
	    	});
	    	//detecta una colision de heroe con un objeto cuando camina a la derecha
	    	function colisionDER($obj){
	    		derechaheroe=$("div.hero").offset().left+$("div.hero").width()+5;
	    		arribaheroe=$("div.hero").offset().top;
	    		abajoheroe=$("div.hero").offset().bottom+$("div.hero").height();

	    		izquierdaObj=$obj.offset().left;
	    		arribaObj=$obj.offset().top;
	    		abajoObj=$obj.offset().top+$obj.width();

	    		if(derechaheroe>=izquierdaObj&&arribaheroe<=abajoObj&&abajoheroe>=arribaObj||
	    			derechaheroe>=izquierdaObj&&abajoheroe>=arribaObj&&arribaheroe<=abajoObj){
	    			return true;
	    		}else{
	    			return false;
	    		}
	    	}
	    </script>
	</body>
</html>